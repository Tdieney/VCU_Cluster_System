```
SUMMARY = "Qt Quick Instrument Cluster Application"
DESCRIPTION = "A Qt Quick application for an instrument cluster"
LICENSE = "CLOSED"

SRC_URI = " \
    file://main.cpp \
    file://main.qml \
    file://qml.qrc \
    file://qtapp.pro \
    file://Images.qrc \
    file://Fonts.qrc \
    file://Configs.qrc \
    file://communication/canhandler.cpp \
    file://communication/canhandler.h \
    file://fonts/Aldrich-Regular.ttf \
    file://images/background.png \
    file://images/centre.png \
    file://images/arrow.png \
    file://images/high_beam.png \
    file://images/low_beam.png \
    file://images/parking_lights.png \
    file://images/hazard.png \
    file://images/left_arrow.png \
    file://images/right_arrow.png \
    file://io_configs/io_config.json \
    file://qtapp.service \
"

S = "${WORKDIR}"
B = "${WORKDIR}/build"

DEPENDS += "qtbase qtdeclarative qtquickcontrols2 qtgraphicaleffects"

inherit qmake5 systemd

FILES_${PN} += "${bindir}/qtapp"
FILES_${PN} += "${systemd_system_unitdir}/qtapp.service"

SYSTEMD_SERVICE:${PN} = "qtapp.service"

SYSTEMD_AUTO_ENABLE = "enable"

do_install() {
    # Install the Qt binary
    install -d ${D}${bindir}
    install -m 0755 ${B}/qtapp ${D}${bindir}/

    # Install systemd unit file
    install -d ${D}${systemd_system_unitdir}
    install -m 0644 ${WORKDIR}/qtapp.service ${D}${systemd_system_unitdir}
}
```


```
[Unit]
Description=Qt Instrument Cluster Application
After=weston.service
Requires=weston.service

[Service]
Environment=QT_QPA_PLATFORM=wayland
Environment=XDG_RUNTIME_DIR=/tmp/runtime-root
ExecStart=/usr/bin/qtapp
Restart=always
User=root
WorkingDirectory=/usr/bin

[Install]
WantedBy=multi-user.target
```